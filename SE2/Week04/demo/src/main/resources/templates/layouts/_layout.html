<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<meta charset="UTF-8">
	<title>Employee Management System</title>
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<link th:href="@{/bootstrap-5.3.3/css/bootstrap.min.css}" rel="stylesheet">
	<script th:src="@{/bootstrap-5.3.3/js/bootstrap.bundle.js}"></script>
</head>

<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary">
	<div class="container">
		<a class="navbar-brand" href="#">Navbar</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarTogglerDemo02">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
				<li class="nav-item">
					<a class="nav-link active" aria-current="page" href="#">Home</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/employee/list">Employee</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="company/list">Company</a>
				</li>
			</ul>
			<form class="d-flex" role="search">
				<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
				<button class="btn btn-outline-success" type="submit">Search</button>
			</form>
		</div>
	</div>
</nav>
<div layout:fragment="content" class="pt-2">
	<!-- Content page here -->
</div>
<script>
	let comId = [[${ comId }]];
	let sortMode = [[${ sortMode }]];
	function filterRedirect() {
		let url = "/employee/list?company=" + comId + "&sort=" + sortMode;
		window.location.href = url; // redirect
	}
	window.addEventListener("load", function () {
		const comFilter = document.getElementById("filterCompany");
		comFilter.value = comId;
		comFilter.addEventListener("change", function (e) {
			comId = e.target.value;
			filterRedirect();
		});
		const sortMenu = document.getElementById("sortOptions");
		sortMenu.value = sortMode;
		sortMenu.addEventListener("change", function (e) {
			sortMode = e.target.value;
			filterRedirect();
		});
	});
</script>
</body>
</html>